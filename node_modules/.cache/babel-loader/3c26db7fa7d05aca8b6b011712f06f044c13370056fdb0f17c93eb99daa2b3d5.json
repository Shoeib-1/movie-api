{"ast":null,"code":"import _regeneratorRuntime from\"D:/front-end/..React.js/4(Movies-API)/movies_api/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/front-end/..React.js/4(Movies-API)/movies_api/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/front-end/..React.js/4(Movies-API)/movies_api/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import NavBar from\"./components/NavBar\";import{Container}from\"react-bootstrap\";import CardMovies from\"./components/CardMovies\";import axios from\"axios\";import MovieList from\"./components/MovieList\";import Text from\"./components/text\";import{BrowserRouter,Routes,Route}from\"react-router-dom\";import MovieDetails from\"./components/MovieDetails\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),pageCount=_useState4[0],setpageCount=_useState4[1];//get all movies axios\nvar getAllMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.themoviedb.org/3/trending/movie/day?api_key=98203601b54b80cfc8d22a0b91d25140\");case 2:res=_context.sent;setMovies(res.data.results);setpageCount(res.data.results.total_pages);case 5:case\"end\":return _context.stop();}},_callee);}));return function getAllMovies(){return _ref.apply(this,arguments);};}();// تنفيذ الداله عند فتح الموقع\nuseEffect(function(){getAllMovies();},[]);// search in API\nvar searchMovies=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(word){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!(word===\"\")){_context2.next=4;break;}getAllMovies();_context2.next=9;break;case 4:_context2.next=6;return axios.get(\"https://api.themoviedb.org/3/trending/movie/day?api_key=98203601b54b80cfc8d22a0b91d25140&query=\".concat(word));case 6:res=_context2.sent;setMovies(res.data.results);setpageCount(res.data.results.total_pages);case 9:case\"end\":return _context2.stop();}},_callee2);}));return function searchMovies(_x){return _ref2.apply(this,arguments);};}();// Get Current Page\nvar getPage=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(page){var res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get(\"https://api.themoviedb.org/3/trending/movie/day?api_key=98203601b54b80cfc8d22a0b91d25140&page=\".concat(page));case 2:res=_context3.sent;setMovies(res.data.results);setpageCount(res.data.results.total_pages);case 5:case\"end\":return _context3.stop();}},_callee3);}));return function getPage(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(NavBar,{searchMovies:searchMovies}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(MovieList,{movies:movies,getPage:getPage,pageCount:pageCount})}),/*#__PURE__*/_jsx(Route,{path:\"/movie/:id\",element:/*#__PURE__*/_jsx(MovieDetails,{})})]})})})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","NavBar","Container","CardMovies","axios","MovieList","Text","BrowserRouter","Routes","Route","MovieDetails","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","movies","setMovies","_useState3","_useState4","pageCount","setpageCount","getAllMovies","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","get","sent","data","results","total_pages","stop","apply","arguments","searchMovies","_ref2","_callee2","word","_callee2$","_context2","concat","_x","getPage","_ref3","_callee3","page","_callee3$","_context3","_x2","className","children","path","element"],"sources":["D:/front-end/..React.js/4(Movies-API)/movies_api/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport NavBar from \"./components/NavBar\";\nimport { Container } from \"react-bootstrap\";\nimport CardMovies from \"./components/CardMovies\";\nimport axios from \"axios\";\nimport MovieList from \"./components/MovieList\";\nimport Text from \"./components/text\";\nimport { BrowserRouter , Routes , Route } from \"react-router-dom\";\nimport MovieDetails from \"./components/MovieDetails\";\nfunction App() {\n  const [movies, setMovies] = useState([]);\n  const [pageCount, setpageCount] = useState(0);\n\n  //get all movies axios\n  const getAllMovies = async () => {\n    const res = await axios.get(\n      \"https://api.themoviedb.org/3/trending/movie/day?api_key=98203601b54b80cfc8d22a0b91d25140\"\n    );\n    setMovies(res.data.results);\n    setpageCount(res.data.results.total_pages)\n  };\n\n  // تنفيذ الداله عند فتح الموقع\n  useEffect(() => {\n    getAllMovies();\n  }, []);\n\n  // search in API\n  const searchMovies = async (word) => {\n    if ((word === \"\")) {\n      getAllMovies();\n    } else {\n      const res = await axios.get(\n        `https://api.themoviedb.org/3/trending/movie/day?api_key=98203601b54b80cfc8d22a0b91d25140&query=${word}`\n      );\n      setMovies(res.data.results);\n      setpageCount(res.data.results.total_pages)\n\n    }\n  };\n\n  // Get Current Page\n  const getPage = async (page) => {\n    const res = await axios.get(\n      `https://api.themoviedb.org/3/trending/movie/day?api_key=98203601b54b80cfc8d22a0b91d25140&page=${page}`\n    );\n    setMovies(res.data.results);\n    setpageCount(res.data.results.total_pages)\n\n  };\n\n  return (\n    <div className=\"\">\n      <NavBar searchMovies={searchMovies} />\n      <Container>\n        <BrowserRouter>\n            <Routes>\n              <Route  path=\"/\" element={<MovieList movies={movies} getPage={getPage} pageCount={pageCount}/>} />\n               <Route path=\"/movie/:id\"  element={ <MovieDetails/>}/>\n            </Routes>\n        </BrowserRouter>\n       \n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}